{"meta":{"title":"hongyonghan","subtitle":"胆小认生，不易相处","description":"山东科技大学17级学生","author":"hongyong han","url":"https://hongyonghan.github.io","root":"/"},"pages":[],"posts":[{"title":"JSP连接数据库实现注册登录","slug":"JSP连接数据库实现注册登录","date":"2019-07-21T14:03:44.000Z","updated":"2019-07-21T14:04:25.828Z","comments":true,"path":"post/JSP连接数据库实现注册登录/","link":"","permalink":"https://hongyonghan.github.io/post/JSP连接数据库实现注册登录/","excerpt":"","text":"要求tomcat8.0、mysql需要一个mysql的驱动器，放在WEB-INFO的lib。版本号如下：数据库文件在mysql数据库中建立一个名字叫db_01的数据库。在数据库的建立一个名字叫tb_user的表，表格的字段为UName,Pwd。 index.jsp 12345678910111213141516171819202122232425262728293031323334353637&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;utf-8&quot;%&gt;&lt;%String path = request.getContextPath();String basePath = request.getScheme()+&quot;://&quot;+request.getServerName()+&quot;:&quot;+request.getServerPort()+path+&quot;/&quot;;%&gt; &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;html&gt; &lt;head&gt; &lt;base href=&quot;&lt;%=basePath%&gt;&quot;&gt; &lt;title&gt;My JSP&lt;/title&gt; &lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;cache-control&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;expires&quot; content=&quot;0&quot;&gt; &lt;meta http-equiv=&quot;keywords&quot; content=&quot;keyword1,keyword2,keyword3&quot;&gt; &lt;meta http-equiv=&quot;description&quot; content=&quot;This is my page&quot;&gt; &lt;!-- &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;styles.css&quot;&gt; --&gt; &lt;/head&gt; &lt;body&gt; &lt;center&gt; &lt;font face = &quot;宋体&quot; size = &quot;6&quot; color = &quot;#000&quot;&gt;欢迎JSP&lt;/font&gt;&lt;hr&gt; &lt;div&gt; &lt;img alt=&quot;&quot; width = &quot;600&quot; height = &quot;400&quot; src=&quot;D:\\Images.jpg&quot;&gt; &lt;/div&gt; &lt;table width = &quot;200&quot; border =&quot;1&quot; bordercolor = &quot;#00F&quot;&gt; &lt;tr&gt; &lt;!--&lt;td&gt;&lt;input type = &quot;button&quot; value = &quot;登 陆&quot; onclick = &quot;window.location.href(&apos;login.jsp&apos;)&quot;&gt;&lt;/td&gt;---&gt; &lt;td&gt;&lt;input type = &quot;button&quot; value = &quot;登 陆&quot; onclick = &quot;window.open(&apos;login.jsp&apos;)&quot;&gt;&lt;/td&gt; &lt;td&gt;&lt;input type = &quot;button&quot; value = &quot;注 册&quot; onclick = &quot;window.open(&apos;register.jsp&apos;)&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/center&gt; &lt;/body&gt;&lt;/html&gt; login.jsp 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;utf-8&quot;%&gt;&lt;%String path = request.getContextPath();String basePath = request.getScheme()+&quot;://&quot;+request.getServerName()+&quot;:&quot;+request.getServerPort()+path+&quot;/&quot;;%&gt; &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;html&gt; &lt;head&gt; &lt;base href=&quot;&lt;%=basePath%&gt;&quot;&gt; &lt;title&gt;My JSP&lt;/title&gt; &lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;cache-control&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;expires&quot; content=&quot;0&quot;&gt; &lt;meta http-equiv=&quot;keywords&quot; content=&quot;keyword1,keyword2,keyword3&quot;&gt; &lt;meta http-equiv=&quot;description&quot; content=&quot;This is my page&quot;&gt; &lt;!-- &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;styles.css&quot;&gt; --&gt; &lt;body&gt; &lt;center&gt; &lt;font face=&quot;楷体&quot; size=&quot;6&quot; color=&quot;#000&quot; &gt;登录界面&lt;/font&gt; &lt;% String flag = request.getParameter(&quot;errNo&quot;); try&#123; if(flag!=null) out.println(&quot;用户名不存在或密码错误&quot;); &#125;catch(Exception e)&#123; e.printStackTrace(); &#125; %&gt; &lt;form action = &quot;loginCh.jsp&quot; method=&quot;post&quot;&gt; &lt;table width=&quot;300&quot; height = &quot;180&quot; border=&quot;5&quot; bordercolor=&quot;#A0A0A0&quot;&gt; &lt;tr&gt; &lt;th&gt;账 户：&lt;/th&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;name&quot; value = &quot;请输入用户名&quot; maxlength = &quot;16&quot; onfocus = &quot;if(this.value == &apos;请输入用户名&apos;) this.value =&apos;&apos;&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th&gt;密 码：&lt;/th&gt; &lt;td&gt;&lt;input type=&quot;password&quot; name=&quot;pwd&quot; maxlength = &quot;20&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td colspan = &quot;2&quot; align = &quot;center&quot;&gt; &lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;登 录&quot;&gt; &lt;input type=&quot;button&quot; value=&quot;返 回&quot; onclick=&quot;window.location.href(&apos;/webText&apos;)&quot;&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/form&gt; &lt;/center&gt; &lt;/body&gt;&lt;/html&gt; checkRegister.jsp 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*,java.sql.*&quot; pageEncoding=&quot;utf-8&quot;%&gt;&lt;%String path = request.getContextPath();String basePath = request.getScheme()+&quot;://&quot;+request.getServerName()+&quot;:&quot;+request.getServerPort()+path+&quot;/&quot;;%&gt; &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;html&gt; &lt;head&gt; &lt;base href=&quot;&lt;%=basePath%&gt;&quot;&gt; &lt;title&gt;My JSP&lt;/title&gt; &lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;cache-control&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;expires&quot; content=&quot;0&quot;&gt; &lt;meta http-equiv=&quot;keywords&quot; content=&quot;keyword1,keyword2,keyword3&quot;&gt; &lt;meta http-equiv=&quot;description&quot; content=&quot;This is my page&quot;&gt; &lt;!-- &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;styles.css&quot;&gt; --&gt; &lt;/head&gt; &lt;body&gt; &lt;% String user = new String(request.getParameter(&quot;username&quot;).getBytes(&quot;ISO-8859-1&quot;),&quot;UTF-8&quot;); String pwd = request.getParameter(&quot;password&quot;); String driverClass = &quot;com.mysql.jdbc.Driver&quot;; String url = &quot;jdbc:mysql://localhost:3306/db_01&quot;; String username = &quot;root&quot;; String password = &quot;root&quot;; Class.forName(driverClass);//加载驱动 Connection conn = DriverManager.getConnection(url,username,password);//得到连接 PreparedStatement pStmt = conn.prepareStatement(&quot;select * from tb_user where UName = &apos;&quot; + user + &quot;&apos;&quot;); ResultSet rs = pStmt.executeQuery(); if(rs.next())&#123; out.println(&quot;&lt;script language=&apos;javascript&apos;&gt;alert(&apos;该用户已存在，请重新注册！&apos;);window.location.href=&apos;register.jsp&apos;;&lt;/script&gt;&quot;); &#125;else&#123; PreparedStatement tmt = conn.prepareStatement(&quot;Insert into tb_user values(&apos;&quot; + user + &quot;&apos;,&apos;&quot; + pwd + &quot;&apos;)&quot;); int rst = tmt.executeUpdate(); if (rst != 0)&#123; out.println(&quot;&lt;script language=&apos;javascript&apos;&gt;alert(&apos;用户注册成功！&apos;);window.location.href=&apos;index.jsp&apos;;&lt;/script&gt;&quot;); &#125;else&#123; out.println(&quot;&lt;script language=&apos;javascript&apos;&gt;alert(&apos;用户注册失败！&apos;);window.location.href=&apos;register.jsp&apos;;&lt;/script&gt;&quot;); &#125; &#125; %&gt; &lt;/body&gt;&lt;/html&gt; loginCh.jsp 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*,java.sql.*&quot; pageEncoding=&quot;utf-8&quot;%&gt;&lt;%String path = request.getContextPath();String basePath = request.getScheme()+&quot;://&quot;+request.getServerName()+&quot;:&quot;+request.getServerPort()+path+&quot;/&quot;;%&gt; &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;html&gt; &lt;head&gt; &lt;base href=&quot;&lt;%=basePath%&gt;&quot;&gt; &lt;title&gt;My JSP&lt;/title&gt; &lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;cache-control&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;expires&quot; content=&quot;0&quot;&gt; &lt;meta http-equiv=&quot;keywords&quot; content=&quot;keyword1,keyword2,keyword3&quot;&gt; &lt;meta http-equiv=&quot;description&quot; content=&quot;This is my page&quot;&gt; &lt;!-- &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;styles.css&quot;&gt; --&gt; &lt;/head&gt; &lt;body&gt; &lt;% String user = new String(request.getParameter(&quot;username&quot;).getBytes(&quot;ISO-8859-1&quot;),&quot;UTF-8&quot;); String pwd = request.getParameter(&quot;password&quot;); String driverClass = &quot;com.mysql.jdbc.Driver&quot;; String url = &quot;jdbc:mysql://localhost:3306/db_01&quot;; String username = &quot;root&quot;; String password = &quot;root&quot;; Class.forName(driverClass);//加载驱动 Connection conn = DriverManager.getConnection(url,username,password);//得到连接 PreparedStatement pStmt = conn.prepareStatement(&quot;select * from tb_user where UName = &apos;&quot; + user + &quot;&apos;&quot;); ResultSet rs = pStmt.executeQuery(); if(rs.next())&#123; out.println(&quot;&lt;script language=&apos;javascript&apos;&gt;alert(&apos;该用户已存在，请重新注册！&apos;);window.location.href=&apos;register.jsp&apos;;&lt;/script&gt;&quot;); &#125;else&#123; PreparedStatement tmt = conn.prepareStatement(&quot;Insert into tb_user values(&apos;&quot; + user + &quot;&apos;,&apos;&quot; + pwd + &quot;&apos;)&quot;); int rst = tmt.executeUpdate(); if (rst != 0)&#123; out.println(&quot;&lt;script language=&apos;javascript&apos;&gt;alert(&apos;用户注册成功！&apos;);window.location.href=&apos;index.jsp&apos;;&lt;/script&gt;&quot;); &#125;else&#123; out.println(&quot;&lt;script language=&apos;javascript&apos;&gt;alert(&apos;用户注册失败！&apos;);window.location.href=&apos;register.jsp&apos;;&lt;/script&gt;&quot;); &#125; &#125; %&gt; &lt;/body&gt;&lt;/html&gt; register.jsp 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;utf-8&quot;%&gt;&lt;%String path = request.getContextPath();String basePath = request.getScheme()+&quot;://&quot;+request.getServerName()+&quot;:&quot;+request.getServerPort()+path+&quot;/&quot;;%&gt;&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;html&gt; &lt;head&gt; &lt;base href=&quot;&lt;%=basePath%&gt;&quot;&gt; &lt;title&gt;My JSP&lt;/title&gt; &lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;cache-control&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;expires&quot; content=&quot;0&quot;&gt; &lt;meta http-equiv=&quot;keywords&quot; content=&quot;keyword1,keyword2,keyword3&quot;&gt; &lt;meta http-equiv=&quot;description&quot; content=&quot;This is my page&quot;&gt; &lt;!-- &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;styles.css&quot;&gt; --&gt; &lt;script&gt; function addCheck()&#123; var username=document.getElementById(&quot;username&quot;).value; var password=document.getElementById(&quot;password&quot;).value; var newword=document.getElementById(&quot;newword&quot;).value; if(username==&quot;&quot;)&#123; alert(&quot;用户名不能为空!&quot;); document.getElementById(&quot;username&quot;).focus(); return false; &#125; if(password==&quot;&quot;)&#123; alert(&quot;密码不能为空!&quot;); document.getElementById(&quot;password&quot;).focus(); return false; &#125; if(password != newword)&#123; alert(&quot;两次输入密码不相同!&quot;); document.getElementById(&quot;newword&quot;).focus(); return false; &#125; &#125; function validate()&#123; var flag = addCheck(); if(flag == false) return false; return true; &#125; &lt;/script&gt; &lt;body&gt; &lt;center&gt; &lt;font face=&quot;楷体&quot; size=&quot;6&quot; color=&quot;#000&quot;&gt;注册界面&lt;/font&gt; &lt;form action = &quot;checkRegister.jsp&quot; method = &quot;post&quot; onsubmit = &quot;return validate()&quot;&gt; &lt;table width=&quot;300&quot; height = &quot;180&quot; border=&quot;5&quot; bordercolor=&quot;#A0A0A0&quot;&gt; &lt;tr&gt; &lt;th&gt;用户名：&lt;/th&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;输入16个字符以内&quot; maxlength = &quot;16&quot; onfocus = &quot;if(this.value == &apos;输入16个字符以内&apos;) this.value =&apos;&apos;&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th&gt;输入密码：&lt;/th&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;password&quot; value=&quot;输入20个字符以内&quot; maxlength = &quot;20&quot; onfocus = &quot;if(this.value == &apos;输入20个字符以内&apos;) this.value =&apos;&apos;&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;th&gt;确认密码：&lt;/th&gt; &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;newword&quot; value=&quot;重新输入密码&quot; maxlength = &quot;20&quot; onfocus = &quot;if(this.value == &apos;重新输入密码&apos;) this.value =&apos;&apos;&quot;&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td colspan = &quot;2&quot; align = &quot;center&quot;&gt; &lt;input type=&quot;submit&quot; value=&quot;注 册&quot;&gt; &lt;input type=&quot;reset&quot; value=&quot;重 置&quot;&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/form&gt; &lt;/center&gt; &lt;/body&gt;&lt;/html&gt; success.jsp 12345678910111213141516171819202122232425262728293031&lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;UTF-8&quot;%&gt;&lt;%String path = request.getContextPath();String basePath = request.getScheme()+&quot;://&quot;+request.getServerName()+&quot;:&quot;+request.getServerPort()+path+&quot;/&quot;;%&gt; &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;&gt;&lt;html&gt; &lt;head&gt; &lt;base href=&quot;&lt;%=basePath%&gt;&quot;&gt; &lt;title&gt;Feilong_登录成功&lt;/title&gt; &lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;cache-control&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;expires&quot; content=&quot;0&quot;&gt; &lt;meta http-equiv=&quot;keywords&quot; content=&quot;keyword1,keyword2,keyword3&quot;&gt; &lt;meta http-equiv=&quot;description&quot; content=&quot;This is my page&quot;&gt; &lt;!-- &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;styles.css&quot;&gt; --&gt; &lt;/head&gt; &lt;body&gt; &lt;center&gt; &lt;% String name = new String(request.getParameter(&quot;username&quot;).getBytes(&quot;8859_1&quot;)); out.println(&quot;欢迎你:&quot; + name); %&gt;&lt;br&gt; &lt;a href=&quot;login.jsp&quot;&gt;重新登陆&lt;/a&gt; &lt;/center&gt; &lt;/body&gt;&lt;/html&gt;","categories":[],"tags":[{"name":"JSP 注册 登录","slug":"JSP-注册-登录","permalink":"https://hongyonghan.github.io/tags/JSP-注册-登录/"}]},{"title":"First","slug":"First","date":"2019-07-21T12:24:59.000Z","updated":"2019-07-21T12:27:21.545Z","comments":true,"path":"post/First/","link":"","permalink":"https://hongyonghan.github.io/post/First/","excerpt":"","text":"FirstStartCreate","categories":[],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2019-07-21T06:58:37.081Z","updated":"2019-07-21T07:09:25.149Z","comments":true,"path":"post/hello-world/","link":"","permalink":"https://hongyonghan.github.io/post/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. HelloQuick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}]}